<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Makka Live Bot | Control Center</title>
    <link rel="stylesheet" href="style.css" />
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600&display=swap" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>

<body>
    <div class="background-blobs">
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
    </div>

    <main class="container">
        <header>
            <img src="makka-VectorStock.png" alt="Bot Logo" class="logo"
                style="border-radius: 45px;box-shadow: 0 0 10px white;" />
            <h1>Makka-live</h1>
            <p>A decentralized Discord bot<br>for the Muslim Ummah.</p>
        </header>

        <section class="status-card">
            <div class="status-indicator">
                <span id="status-dot" class="dot stopped"></span>
                <span id="status-text">Status: Offline</span>
            </div>

            <label style="text-align: left; display: block; margin-bottom: 8px">Option 1: Run Remotely (vercel,
                unreliable)</label>
            <div class="controls" style="margin-bottom: 24px">
                <button id="start-btn" class="btn primary">Start Bot</button>
                <button id="stop-btn" class="btn secondary" disabled>Stop Bot</button>
            </div>

            <label style="text-align: left; display: block; margin-bottom: 8px">Option 2: Run Locally (Host
                Yourself)</label>
            <div class="controls">
                <button id="download-win-btn" class="btn primary">Windows (.exe)</button>
                <button id="download-and-btn" class="btn primary">Android (.sh)</button>
            </div>
        </section>

        <section class="config-card">


            <div id="invite-section" class="invite-section" style="
            border-top: none;
            margin-top: 0;
            padding-top: 0;
            margin-bottom: 20px;
          ">
                <a href="https://discord.com/oauth2/authorize?client_id=1475876154740047962" target="_blank"
                    class="invite-link">
                    <span>Add Bot to Discord
                        <i class="fa-brands fa-discord"></i></span>
                </a>
            </div>
        </section>

        <div id="faq-container" style="margin-bottom: 20px;">
            <button id="faq-toggle-btn" class="btn secondary"
                style="width: 100%; display: flex; justify-content: space-between; align-items: center; padding: 16px 20px; border-radius: 16px; font-size: 1.1rem; font-weight: 500; margin-bottom: 10px;">
                <span>FAQ & Information</span>
                <span id="faq-toggle-icon"
                    style="transition: transform 0.3s ease; display: inline-block; font-size: 0.8rem;">â–¼</span>
            </button>

            <section id="faq-section" class="faq-card hidden" style="margin-bottom: 0;">
                <details class="faq-item">
                    <summary>Introduction</summary>
                    <div class="faq-content">
                        <p>Makka Live Bot is a specialized Discord music bot designed for high-quality audio streaming
                            from
                            YouTube. It features a unique "Remote Control" architecture that allows users to host the
                            bot on
                            their local machines while controlling it via a centralized web dashboard, all while keeping
                            the
                            source code and tokens protected.</p>
                    </div>
                </details>
                <details class="faq-item">
                    <summary>How does the bot work?</summary>
                    <div class="faq-content">
                        <p>Makka Live Bot can be run in two ways:</p>
                        <ul>
                            <li>
                                <strong>Option 1 (Remote):</strong> Start the bot directly on
                                the backend servers using this dashboard. (Not recommended since the backend is hosted
                                on
                                Vercel, which does not run continuously. Need to host it on a VPS or similar.)
                            </li>
                            <li>
                                <strong>Option 2 (Local):</strong> Run the bot on your local
                                machine using MakkaLauncher. This control center will then
                                communicate with it remotely.
                            </li>
                        </ul>
                    </div>
                </details>
                <details class="faq-item">
                    <summary>What should I do first?</summary>
                    <div class="faq-content">
                        <ol>
                            <li>
                                <strong>Add the bot:</strong> Click the "Add Bot to Discord"
                                link above to invite Makka to your server.
                            </li>
                            <li>
                                <strong>Choose an option:</strong> Start the bot remotely using
                                Option 1, or download the <code>MakkaLauncher.exe</code> from
                                Option 2.
                            </li>
                            <li>
                                <strong>Local Setup:</strong> If choosing Option 2, execute the
                                downloaded file on your host machine to connect it to this
                                control center.
                            </li>
                        </ol>
                    </div>
                </details>
                <details class="faq-item">
                    <summary>Can I run the bot on multiple devices?</summary>
                    <div class="faq-content">
                        <p><strong>Yes!</strong> Makka Live Bot features an <strong>Automatic Failover</strong> system.
                            If
                            you run the <code>MakkaLauncher.exe</code> on multiple computers:</p>
                        <ul>
                            <li>The first one to start becomes the <strong>Master</strong> and handles all commands.
                            </li>
                            <li>Others enter <strong>Standby Mode</strong> automatically.</li>
                            <li>If the Master instance is closed or loses connection, a Standby instance will
                                automatically take over as the new Master within <strong>35 seconds</strong>.</li>
                            <li>The new Master will even automatically rejoin the voice channels and resume its last
                                known
                                state.</li>
                        </ul>
                    </div>
                </details>
                <details class="faq-item">
                    <summary>What is the Islamic Content Filter?</summary>
                    <div class="faq-content">
                        <p>To ensure the server focus remains on Islamic content, the bot includes a <strong>Halal
                                Filter</strong>:</p>
                        <ul>
                            <li>The <code>!play</code> command checks titles for keywords like <em>Quran, Nasheed,
                                    Islamic,
                                    Lecture</em>.</li>
                            <li>Songs and music content are automatically blocked.</li>
                            <li>Moderators can use <code>!haram &lt;url&gt;</code> to bypass the filter, which sends an
                                alert to the notification channel.</li>
                        </ul>
                    </div>
                </details>
                <details class="faq-item">
                    <summary>How do I use the Quran commands?</summary>
                    <div class="faq-content">
                        <p>The bot is integrated with the <strong>Quran Foundation API</strong>. You can use:</p>
                        <ul>
                            <li><code>!quran &lt;surah&gt; &lt;start&gt; [end]</code> to play specific verses.</li>
                            <li><code>!translate &lt;surah&gt; &lt;ayah&gt;</code> to view interactive translations.
                            </li>
                            <li>Use <code>!help</code> in Discord to see the full list of available commands.</li>
                        </ul>
                    </div>
                </details>
                <div style="margin-top: 16px; text-align: center;">
                    <button id="view-doc-btn" class="btn secondary" style="padding: 8px 16px; font-size: 0.85rem;">View
                        Documentation</button>
                </div>
            </section>
        </div>

        <!-- Documentation Viewer (Hidden by default) -->
        <section id="doc-section" class="faq-card hidden" style="max-height: none; text-align: left;">
            <div style="margin-bottom: 16px;">
                <button id="back-to-home-btn" class="btn secondary"
                    style="padding: 8px 16px; font-size: 0.85rem;">&larr; Back to Home</button>
            </div>
            <div id="doc-content" class="faq-content" style="opacity: 1; transform: none;">
                <!-- Markdown content will be rendered here -->
            </div>
        </section>

        <!-- Windows Modal -->
        <div id="win-modal" class="modal hidden">
            <div class="modal-content">
                <span class="close-btn">&times;</span>
                <h2>Windows Setup</h2>
                <div class="modal-body"
                    style="text-align: left; margin-top: 15px; color: var(--text-dim); line-height: 1.6;">
                    <p>1. Download the <code>MakkaLauncher.exe</code> file.</p>
                    <p>2. Double-click the downloaded file to run it.</p>
                    <p>3. If Windows SmartScreen blocks it, click "More info" and then "Run anyway".</p>
                    <p>4. Wait for the control center to show the bot as "Online".</p>
                </div>
                <a href="https://github.com/b1tranger/makka-live-bot-frontend/releases/download/v1.8.0/MakkaLauncher.exe"
                    id="confirm-win-download" download class="btn primary"
                    style="display: block; margin-top: 20px; text-decoration: none; text-align: center;">Download
                    MakkaLauncher.exe</a>
            </div>
        </div>

        <!-- Android Modal -->
        <div id="and-modal" class="modal hidden">
            <div class="modal-content">
                <span class="close-btn">&times;</span>
                <h2>Android Setup (Termux)</h2>
                <div class="modal-body"
                    style="text-align: left; margin-top: 15px; color: var(--text-dim); line-height: 1.6;">
                    <p>1. Install <strong>Termux</strong> from <a href="https://f-droid.org/en/packages/com.termux/"
                            target="_blank" style="color: #60a5fa;">F-Droid</a> (Do not use Google Play).</p>
                    <p>2. Download the <code>MakkaLauncher-Android</code> binary using the button below to your phone.
                    </p>
                    <p>3. Move the file into your Termux home directory.</p>
                    <p>4. Open Termux, make the file executable, and run it:</p>
                    <pre
                        style="background: rgba(0,0,0,0.3); padding: 10px; border-radius: 5px; overflow-x: auto; font-size: 0.8em; margin: 10px 0;"><code style="color: var(--accent-secondary);">chmod +x MakkaLauncher-Android
./MakkaLauncher-Android</code></pre>
                </div>
                <!-- TODO: Replace placeholder URL with the actual GitHub Release URL for the Android binary -->
                <a href="https://github.com/b1tranger/makka-live-bot-frontend/releases/download/v1.8.0/MakkaLauncher-Android"
                    id="confirm-and-download" download class="btn primary"
                    style="display: block; margin-top: 20px; text-decoration: none; text-align: center;">Download
                    MakkaLauncher-Android</a>
            </div>
        </div>

        <footer>
            <p>&copy; 2026 b1tranger</p>
        </footer>
    </main>

    <script src="app.js"></script>
</body>

</html>